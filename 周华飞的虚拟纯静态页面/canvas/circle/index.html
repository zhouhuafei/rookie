<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
        <meta name="format-detection" content="telephone=no"/>
        <title>Title</title>
        <style>
            *{
                margin:0;
                padding:0;
                list-style-type:none;
            }
            html,body{
                width:100%;
                height:100%;
                overflow:hidden;
            }
            canvas{
                background:#000;
                display:block;
                position:fixed;
                left:50%;
                top:50%;
                transform:translate(-50%,-50%);
            }
        </style>
    </head>
    <body>
        <canvas></canvas>
        <script>
            "use strict";
            {
                class Game {
                    constructor(){
                        this.init();
                    }
                    init(){
                        this.getEle();
                        this.getData();
                        this.setWH();
                        this.setColor();
                        this.move();
                    }
                    getEle(){
                        this.canvas=document.querySelector('canvas');
                        this.content=this.canvas.getContext('2d');
                    }
                    getData(){
                        this.width=document.documentElement.clientWidth;
                        this.height=document.documentElement.clientHeight;
                        this.centerX=this.width/2;
                        this.centerY=this.height/2;
                        this.radian=Math.PI/180;
                        this.radius=50;
                        this.data=[];
                    }
                    setWH(){
                        this.canvas.width=this.width;
                        this.canvas.height=this.height;
                    }
                    setColor(){
                        this.content.fillStyle='rgba(255,255,255,1)';
                        this.content.strokeStyle='rgba(255,255,255,1)';
                    }
                    drawCircle(){
                        this.content.clearRect(0,0,this.width,this.height);
                        this.data.forEach((v,i)=>{
                            this.content.save();
                            this.content.beginPath();
                            this.content.moveTo(v.cX,v.cY);
                            this.content.globalAlpha=v.a/100;
                            this.content.fillStyle=`rgba(${v.r},${v.g},${v.b},${v.a})`;
                            this.content.arc(v.cX,v.cY,v.cR,0,360*this.radian,false);
                            this.content.fill();
                            this.content.closePath();
                            this.content.restore();
                        })
                    }
                    move(){
                        setInterval(()=>{
                            this.data.push({
                                cX:Math.round(Math.random()*this.width),
                                cY:Math.round(Math.random()*this.height),
                                cR:Math.round(Math.random()*this.radius),
                                r:Math.round(Math.random()*255),
                                g:Math.round(Math.random()*255),
                                b:Math.round(Math.random()*255),
                                a:100,
                            })
                        },100);
                        setInterval(()=>{
                            this.data.forEach((v,i)=>{
                                v.cR++;
                                v.a--;
                                if(v.a<=0){
                                    //console.log(this.data);
                                    this.data.splice(i,1);
                                    //console.log(this.data);
                                }
                            });
                            this.drawCircle();
                        },1000/60);
                    }
                }
                new Game();
            }
        </script>
    </body>
</html>