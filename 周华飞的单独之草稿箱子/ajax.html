<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>无标题文档</title>
</head>
<body>
<script>
/*
function ajax(url,fnSucc,fnFail){
	oAjax=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject('Microsoft.XMLHTTP');
	oAjax.open('GET',url,true);
	oAjax.send();
	oAjax.onreadystatechange=function(){(oAjax.readyState==4)&&((oAjax.status==200)?fnSucc(oAjax.responseText):fnFail&&fnFail(oAjax.status));}	
}
*/
function ajax(url, fnSucc, fnFail)
{
	//1.创建ajax对象
	if(window.XMLHttpRequest){
		var oAjax=new XMLHttpRequest();
	}else{
		var oAjax=new ActiveXObject("Microsoft.XMLHTTP");
	}	
	//2.连接服务器(打开和服务器的连接)
	oAjax.open('GET', url, true);	
	//3.发送
	oAjax.send(null);	
	//4.接收
	oAjax.onreadystatechange=function (){
		if(oAjax.readyState==4){
			if(oAjax.status==200){
				fnSucc(oAjax.responseText);
			}else{
				if(fnFail){
					fnFail(oAjax.status);
				}
			}
		}
	};
}
</script>
</body>
</html>